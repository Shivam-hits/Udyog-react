<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="theme-color" content="#5c68ff" />
        <title>UDYOG - Login to account</title>
        <link rel="stylesheet" href="../dist/css/style.css" />
    </head>
    <body>

        <section class="flex justify-center" style="height: 100vh;">
            <div class="card w-11/12 md:w-9/12 lg:w-5/12 my-auto mx-auto">
                <div class="card-header justify-between border-b border-gray-100 py-3 mb-3">
                    <h1 class="text-3xl">UDYOG<span class="text-theme-primary">.</span></h1>
                    <a href="../index.html" class="theme-anchor">Back to home</a>
                </div>
                <div class="card-body">
                    <div class="mb-3 space-y-1">
                        <label for="username">Username: </label>
                        <input type="text" id="username" name="username" placeholder="Eg. zagreus" class="form-control">
                        
                    </div>
                    <div class="mb-3 space-y-1">
                        <label for="username">Password: </label>
                        <input type="password" id="password" name="password" placeholder="Enter your password here" class="form-control">
                    </div>
                    <div class="flex justify-between items-center">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="remember_me">
                            <label class="form-check-label" for="remember_me">
                                Remember me
                            </label>
                        </div>
                        <button id="login_btn" class="btn btn-primary">Login</button>
                    </div>
                    <div class="flex justify-between border-t border-gray-100 mt-4 pt-2">
                        <a href="./register.html" class="theme-anchor">Register new account</a>
                        <a href="./forgot-password.html" class="theme-anchor">Forgot password?</a>
                    </div>
                </div>
            </div>
        </section>

        <script type="module">
            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js";
            import { getAuth,signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-auth.js";
            import { getDatabase } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-database.js";

            const firebaseConfig = {
              apiKey: "AIzaSyCZQffV-oTPnQAIg_VIVkOg7SyQAERJAY0",
              authDomain: "authentication-udyog.firebaseapp.com",
              projectId: "authentication-udyog",
              storageBucket: "authentication-udyog.appspot.com",
              messagingSenderId: "817902534407",
              appId: "1:817902534407:web:5933eb98d9e67ef9198fa2",
              measurementId: "G-R8MG7SBDKQ"
            };
          
            const app = initializeApp(firebaseConfig);
            const database = getDatabase(app);
            const auth = getAuth(app);

            login_btn.addEventListener("click",(e)=>{

                // var email= document.getElementById("email").value;
                var username= document.getElementById("username").value;
                var password= document.getElementById("password").value;

                signInWithEmailAndPassword(auth, username, password)
                .then((userCredential) => {
                    // Signed in 
                    const user = userCredential.user;
                    alert("logged in");
                    // <div><a href="../index.html" class="theme-anchor"></a></div>
                    // ...
                })
                .catch((error) => {
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    alert(errorMessage);
                });
            });

          </script>
    </body>
</html>
